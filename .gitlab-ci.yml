---
stages:
  - init
  - unit_test
  - curl_test
  - deploy

init-test:
  stage: init
  script:
    - touch testDB.db
    - sqlite3 testDB.db < mkdb.txt

unit-test:
  stage: unit_test
  script:
    - echo "Hello unit-test"

curl-test:
  stage: curl_test
  script: 
    - python3 main.py -p 12188 &
    - servicePID=$!
    - echo "Running curl tests $servicePID"
    - kill -9 $servicePID

deploy-app:
  stage: deploy
  script: echo "Hello deploy-app"
